"use strict";(self.webpackChunkStudyApp=self.webpackChunkStudyApp||[]).push([[983],{7983:(q,r,s)=>{s.r(r),s.d(r,{QuizModule:()=>z});var a=s(177),u=s(9810),h=s(7166),t=s(540),c=s(6401),l=s(4443);function d(e,p){1&e&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Loading..."),t.k0s()()(),t.bVm())}function m(e,p){if(1&e){const i=t.RV6();t.j41(0,"app-prompt",5),t.bIt("retrieveQuestion",function(o){t.eBV(i);const x=t.XpG(2);return t.Njj(x.handleQuestionNavigation(o))}),t.k0s()}if(2&e){const i=t.XpG(2);t.Y8G("question",i.question)("enableQuizNavigation",!0)("index",i.index)("totalQuestions",i.questions.length)}}function g(e,p){if(1&e&&(t.qex(0),t.DNE(1,m,1,4,"app-prompt",4),t.bVm()),2&e){const i=t.XpG();t.R7$(1),t.Y8G("ngIf",i.question)}}const v=[{path:"",component:(()=>{class e{constructor(i,n){this.quizService=i,this.router=n,this.questions=[],this.isLoading=!0,this.question=null,this.questions=this.quizService.getQuestions(),this.index=-1}ngOnInit(){this.questions.length?(this.randomizeQuestions(),this.nextQuestion()):this.router.navigate(["/quiz-selection"])}randomizeQuestions(){this.questions.sort(()=>Math.random()-.5)}nextQuestion(){this.isLoading=!0,setTimeout(()=>{this.verifyResponsesComplete()?this.navigateToResults():(this.index>=this.questions.length-1&&(this.index=-1),this.setQuestion(++this.index),this.isLoading=!1)},300)}verifyResponsesComplete(){return this.questions.every(i=>i.response&&""!==i.response.trim())}setQuestion(i){this.question=new h.v(this.questions[i]),this.randomizeOptions(this.question)}navigateToResults(){this.quizService.setQuestions(this.questions),this.router.navigate(["/results"])}randomizeOptions(i){i.options.sort(()=>Math.random()-.5)}handleQuestionNavigation(i){this.questions[this.index].response=i.response,i.retrievePreviousQuestion&&(this.index-=2),this.nextQuestion()}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(c.p),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-quiz"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["role","status",1,"spinner-border","spinner-large","text-primary","fs-1"],[1,"visually-hidden"],[3,"question","enableQuizNavigation","index","totalQuestions","retrieveQuestion",4,"ngIf"],[3,"question","enableQuizNavigation","index","totalQuestions","retrieveQuestion"]],template:function(n,o){1&n&&(t.DNE(0,d,5,0,"ng-container",0),t.DNE(1,g,2,1,"ng-container",0)),2&n&&(t.Y8G("ngIf",o.isLoading),t.R7$(1),t.Y8G("ngIf",!o.isLoading))},dependencies:[a.bT,l.c],styles:[".spinner-large[_ngcontent-%COMP%]{width:5rem;height:5rem}"]})}}return e})()}];let f=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(v),u.iI]})}}return e})();var Q=s(541);let z=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[a.MD,f,Q.G]})}}return e})()}}]);