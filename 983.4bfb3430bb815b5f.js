"use strict";(self.webpackChunkStudyApp=self.webpackChunkStudyApp||[]).push([[983],{7983:(C,r,s)=>{s.r(r),s.d(r,{QuizModule:()=>q});var p=s(177),a=s(8426),h=s(7166),t=s(540),l=s(6629),d=s(593),m=s(4961);function g(n,c){1&n&&(t.qex(0),t.j41(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Loading..."),t.k0s()()(),t.bVm())}function v(n,c){if(1&n){const i=t.RV6();t.j41(0,"app-prompt",6),t.bIt("retrieveQuestion",function(o){t.eBV(i);const u=t.XpG(2);return t.Njj(u.saveAndNavigate(o))}),t.k0s()}if(2&n){const i=t.XpG(2);t.Y8G("question",i.question)("enableQuizNavigation",!0)("index",i.index)("totalQuestions",i.questions.length)}}function Q(n,c){if(1&n){const i=t.RV6();t.qex(0),t.j41(1,"app-navigation",4),t.bIt("navigateToQuestion",function(o){t.eBV(i);const u=t.XpG();return t.Njj(u.handleQuestionNavigation(o))}),t.k0s(),t.DNE(2,v,1,4,"app-prompt",5),t.bVm()}if(2&n){const i=t.XpG();t.R7$(1),t.Y8G("questions",i.questions)("index",i.index),t.R7$(1),t.Y8G("ngIf",i.question)}}const f=[{path:"",component:(()=>{class n{constructor(i,e){this.quizService=i,this.router=e,this.questions=[],this.isLoading=!0,this.question=null,this.questions=this.quizService.getQuestions(),this.index=-1}ngOnInit(){this.questions.length?(this.randomizeQuestions(),this.nextQuestion()):this.router.navigate(["/quiz-selection"])}randomizeQuestions(){this.questions.sort(()=>Math.random()-.5)}nextQuestion(){this.isLoading=!0,setTimeout(()=>{this.verifyResponsesComplete()?this.navigateToResults():(this.index>=this.questions.length-1&&(this.index=-1),this.setQuestion(++this.index),this.isLoading=!1)},300)}verifyResponsesComplete(){return this.questions.every(i=>i.response&&""!==i.response.trim())}setQuestion(i){this.question=new h.v(this.questions[i]),this.randomizeOptions(this.question)}navigateToResults(){this.quizService.setQuestions(this.questions),this.router.navigate(["/results"])}randomizeOptions(i){i.options.sort(()=>Math.random()-.5)}handleQuestionNavigation(i){this.index=i-1,this.nextQuestion()}saveAndNavigate(i){this.questions[this.index].response=i.response,i.retrievePreviousQuestion?this.index-=2:i.isClearSelection&&(this.index-=1),this.nextQuestion()}static{this.\u0275fac=function(e){return new(e||n)(t.rXU(l.p),t.rXU(a.Ix))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-quiz"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100"],["role","status",1,"spinner-border","spinner-large","text-primary","fs-1"],[1,"visually-hidden"],[3,"questions","index","navigateToQuestion"],[3,"question","enableQuizNavigation","index","totalQuestions","retrieveQuestion",4,"ngIf"],[3,"question","enableQuizNavigation","index","totalQuestions","retrieveQuestion"]],template:function(e,o){1&e&&(t.DNE(0,g,5,0,"ng-container",0),t.DNE(1,Q,3,3,"ng-container",0)),2&e&&(t.Y8G("ngIf",o.isLoading),t.R7$(1),t.Y8G("ngIf",!o.isLoading))},dependencies:[p.bT,d.c,m.e],styles:[".spinner-large[_ngcontent-%COMP%]{width:5rem;height:5rem}"]})}}return n})()}];let x=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[a.iI.forChild(f),a.iI]})}}return n})();var z=s(541);let q=(()=>{class n{static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.MD,x,z.G]})}}return n})()}}]);